<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Nx10 â€” We teach machines how humans feel</title>
<meta name="theme-color" content="#000000">
<style>
  :root { --bg:#000; --fg:#eaeaea; --green:#39ff88; --red:#ff4d4d; }
  * { box-sizing: border-box; }
  html, body { height: 100%; margin: 0; background:#000; color: var(--fg); font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
  .wrap { position: fixed; inset: 0; }
  canvas { position:absolute; inset:0; width: 100%; height: 100%; display: block; }

  #intro { position:absolute; inset:0; background:#000; display:flex; align-items:center; justify-content:center; color:var(--green); text-align:center; padding: 0 24px; }
  #intro h1 { font-size: 22px; margin: 0 0 8px; }
  #intro p { margin: 0; opacity: .75; }
  #intro.hide { opacity:0; transition: opacity 400ms ease; pointer-events:none; }

  #nums { position:absolute; inset:0; pointer-events:none; overflow:hidden; }
  .num, .word, .tagline, .tagline-sub { position:absolute; transform:translate(-50%,-50%); will-change:opacity,transform; }
  .num { font:600 14px/1.15 ui-monospace, monospace; color:rgba(57,255,136,0); opacity:0; }
  .num.show { color:rgba(57,255,136,0.92); opacity:1; transition:opacity 700ms ease; }
  .num.fade { opacity:0; transition:opacity 1200ms ease; }

  .word { font:700 24px/1.15 system-ui,sans-serif; opacity:0; white-space:nowrap; }
  .word.pos { color: var(--green); text-shadow: 0 6px 22px rgba(57,255,136,0.35); }
  .word.neg { color: var(--red);   text-shadow: 0 6px 22px rgba(255,77,77,0.35); }
  .word.show { opacity:1; transition:opacity 900ms ease; }
  .word.fade { opacity:0; transition:opacity 1000ms ease; }

  .tagline { font:800 36px/1.0 system-ui,sans-serif; color:var(--green); opacity:0; text-align:center; white-space:nowrap; letter-spacing:.02em; }
  .tagline-sub { font:600 18px/1.3 system-ui,sans-serif; color:#d9d9d9; opacity:0; text-align:center; white-space:nowrap; letter-spacing:.01em; }
  .tagline.show, .tagline-sub.show { opacity:1; transition:opacity 1200ms ease; }

  .brand-asset { position:absolute; pointer-events:none; opacity:0; transition: opacity 800ms ease; }
  .brand-asset.show { opacity:1; }
</style>
</head>
<body>
  <div class="wrap">
    <div id="intro"><div><h1>Swipe or draw anything on the screen</h1><p>Lift your finger to continue</p></div></div>
    <canvas id="c"></canvas>
    <div id="nums"></div>
  </div>

<script>
(function(){
  const CFG = {
    NUM_COUNT: 84,
    WORD_COUNT: 28,
    FADE_SMUDGE_MS: 1400,
    NUM_REVEAL_STAGGER: 25,
    NUM_SHOW_MS: 3000,
    NUM_FADE_MS: 1200,
    WORD_REVEAL_STAGGER: 80,
    WORD_SHOW_MS: 3000,
    WORD_FADE_MS: 1200,
    LOGO_URL: './assets/x_flat.jpeg',
    X3D_URL: './assets/x_3d.jpeg'
  };

  const POSITIVE = [
    'relaxed','engaged','happy','focused','calm','curious','energised','settled','open','present',
    'relieved','attentive','absorbed','balanced','hopeful','content','interested','playful','confident','optimistic','determined','grounded','composed'
  ];
  const NEGATIVE = ['stressed','anxious','frustrated','bored','tired'];
  const FEELINGS = POSITIVE.concat(NEGATIVE);

  const canvas = document.getElementById('c');
  const ctx = canvas.getContext('2d');
  const intro = document.getElementById('intro');
  const numsEl = document.getElementById('nums');

  let drawing=false, last=null, sequenceRunning=false;

  function resize(){
    const dpr=Math.max(1,window.devicePixelRatio||1);
    const rect=canvas.getBoundingClientRect();
    canvas.width=Math.floor(rect.width*dpr);
    canvas.height=Math.floor(rect.height*dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);
    ctx.clearRect(0,0,canvas.width,canvas.height);
  }
  function start(x,y){ if(!sequenceRunning) intro.classList.add('hide'); drawing=true; last={x,y}; }
  function move(x,y){ if(!drawing)return; draw(last.x,last.y,x,y); last={x,y}; }
  function end(){ if(!drawing)return; drawing=false; last=null; if(!sequenceRunning) runSequence(); }

  function draw(x1,y1,x2,y2){
    const w=18,g=18;
    ctx.lineCap='round'; ctx.lineJoin='round';
    ctx.strokeStyle='rgba(57,255,136,1)'; ctx.lineWidth=w; ctx.shadowBlur=g; ctx.shadowColor='rgba(57,255,136,0.9)';
    ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke();
    ctx.save(); ctx.shadowBlur=0; ctx.strokeStyle='rgba(255,255,255,0.9)'; ctx.lineWidth=Math.max(2,w*0.35);
    ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke(); ctx.restore();
  }

  function randomIntDigits(min=10,max=16){
    const len=Math.floor(Math.random()*(max-min+1))+min;
    let s=''; for(let i=0;i<len;i++) s+=Math.floor(Math.random()*10);
    if(s[0]==='0') s='1'+s.slice(1);
    return s;
  }

  function clearNums(){ numsEl.innerHTML=''; }

  function revealNumbers(){
    clearNums();
    const r=canvas.getBoundingClientRect(); const w=r.width, h=r.height;
    for(let i=0;i<CFG.NUM_COUNT;i++){
      const span=document.createElement('span'); span.className='num'; span.textContent=randomIntDigits(10,16);
      span.style.left=(20+Math.random()*(w-40))+'px'; span.style.top=(30+Math.random()*(h-60))+'px';
      numsEl.appendChild(span);
      setTimeout(()=> span.classList.add('show'), CFG.NUM_REVEAL_STAGGER*i);
    }
  }

  function fadeNumbers(cb){
    const items=numsEl.querySelectorAll('.num');
    items.forEach((el,i)=> setTimeout(()=> el.classList.add('fade'), i*5));
    setTimeout(()=>{ clearNums(); cb&&cb(); }, CFG.NUM_FADE_MS + items.length*5 + 60);
  }

  function revealWords(cb){
    clearNums();
    const r=canvas.getBoundingClientRect(); const w=r.width, h=r.height;
    const n=Math.min(CFG.WORD_COUNT, FEELINGS.length);
    for(let i=0;i<n;i++){
      const f=FEELINGS[i%FEELINGS.length]; const cls = POSITIVE.includes(f)?'pos':'neg';
      const span=document.createElement('span'); span.className='word '+cls; span.textContent=f;
      span.style.left=(40+Math.random()*(w-80))+'px'; span.style.top=(40+Math.random()*(h-80))+'px';
      numsEl.appendChild(span);
      setTimeout(()=> span.classList.add('show'), CFG.WORD_REVEAL_STAGGER*i);
    }
    setTimeout(()=> fadeWords(cb), CFG.WORD_SHOW_MS + CFG.WORD_REVEAL_STAGGER*n);
  }

  function fadeWords(cb){
    const items=numsEl.querySelectorAll('.word');
    items.forEach((el,i)=> setTimeout(()=> el.classList.add('fade'), i*20));
    setTimeout(()=>{ clearNums(); cb&&cb(); }, CFG.WORD_FADE_MS + items.length*20 + 200);
  }

  function addBrandAssets(){
    // Remove existing
    numsEl.querySelectorAll('.brand-asset').forEach(n=> n.remove());
    if (CFG.LOGO_URL){
      const logo = new Image(); logo.src = CFG.LOGO_URL; logo.className='brand-asset';
      logo.style.left='12%'; logo.style.top='12%'; logo.style.width='96px'; logo.style.height='auto';
      numsEl.appendChild(logo); requestAnimationFrame(()=> logo.classList.add('show'));
    }
    if (CFG.X3D_URL){
      const x = new Image(); x.src = CFG.X3D_URL; x.className='brand-asset';
      x.style.right='8%'; x.style.bottom='10%'; x.style.width='160px'; x.style.height='auto';
      x.style.position='absolute'; x.style.left='auto'; x.style.top='auto';
      numsEl.appendChild(x); requestAnimationFrame(()=> x.classList.add('show'));
    }
  }

  function showTagline(){
    clearNums();
    ctx.fillStyle = '#000'; ctx.fillRect(0,0,canvas.width,canvas.height);
    const title=document.createElement('div'); title.className='tagline'; title.textContent='Nx10'; title.style.left='50%'; title.style.top='45%';
    const sub=document.createElement('div'); sub.className='tagline-sub'; sub.textContent='We teach machines how humans feel.'; sub.style.left='50%'; sub.style.top='56%';
    numsEl.appendChild(title); numsEl.appendChild(sub);
    setTimeout(()=>{ title.classList.add('show'); sub.classList.add('show'); }, 150);
    addBrandAssets();
  }

  function runSequence(){
    sequenceRunning=true;
    let steps=Math.floor(CFG.FADE_SMUDGE_MS/30);
    const fade=()=>{ steps--; ctx.fillStyle='#000'; ctx.fillRect(0,0,canvas.width,canvas.height); if(steps>0) requestAnimationFrame(fade); else afterSmudge(); };
    requestAnimationFrame(fade);
    function afterSmudge(){
      revealNumbers();
      setTimeout(()=>{
        fadeNumbers(()=>{
          revealWords(()=>{
            showTagline();
          });
        });
      }, CFG.NUM_REVEAL_STAGGER*CFG.NUM_COUNT + CFG.NUM_SHOW_MS);
    }
  }

  function toLocal(e){ const r=canvas.getBoundingClientRect(); const cx=e.touches?e.touches[0].clientX:e.clientX; const cy=e.touches?e.touches[0].clientY:e.clientY; return {x:cx-r.left,y:cy-r.top}; }

  if(window.PointerEvent){
    canvas.addEventListener('pointerdown',e=>{e.preventDefault(); const p=toLocal(e); start(p.x,p.y);});
    canvas.addEventListener('pointermove',e=>{const p=toLocal(e); move(p.x,p.y);});
    window.addEventListener('pointerup',()=> end());
  } else {
    canvas.addEventListener('mousedown',e=>{const p=toLocal(e); start(p.x,p.y);});
    window.addEventListener('mousemove',e=>{const p=toLocal(e); move(p.x,p.y);});
    window.addEventListener('mouseup',()=> end());
    canvas.addEventListener('touchstart',e=>{const p=toLocal(e); start(p.x,p.y);},{passive:false});
    window.addEventListener('touchmove',e=>{const p=toLocal(e); move(p.x,p.y);},{passive:false});
    window.addEventListener('touchend',()=> end());
  }

  window.addEventListener('resize',resize); resize();
})();
</script>
</body>
</html>
